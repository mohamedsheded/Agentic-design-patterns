# React "planning" Agent
![CamScanner 02-01-2025 10 39n_1](https://github.com/user-attachments/assets/17a8bc9d-6664-4087-add8-4b82a119fdda)

## Overview

`ReactAgent` is a Python class that implements an agent using the ReAct (Reasoning + Acting) logic. The agent interacts with various tools to process user inputs, make decisions, and execute tool calls dynamically. This class is designed to handle interactive sessions, collect tool signatures, and process multiple tool calls within a given interaction round.

## Features

- **Tool Integration**: Supports multiple tools, enabling automated processing of tool calls.
- **Dynamic Interaction**: Executes reasoning and action loops to refine responses before finalizing an answer.
- **Chat History Management**: Maintains conversation history for context-aware interactions.
- **Flexible Model Selection**: Uses the `Groq` API with configurable model selection (default: `llama-3.3-70b-versatile`).
- **Automated Tool Execution**: Validates tool arguments and executes them efficiently.

## Attributes

- `client`: An instance of the `Groq` API client to handle AI completions.
- `model`: The name of the AI model used for generating responses.
- `system_prompt`: The initial system instructions for the agent.
- `tools`: A list of available `Tool` instances.
- `tools_dict`: A dictionary mapping tool names to their corresponding instances.

## Methods

### `__init__(self, tools: Tool | list[Tool], model: str = "llama-3.3-70b-versatile", system_prompt: str = "")`

Initializes the `ReactAgent` class with a list of tools, a model, and an optional system prompt.

#### Parameters:

- `tools` (Tool | list[Tool]): A single tool or a list of tools available for execution.
- `model` (str): The name of the AI model (default: `llama-3.3-70b-versatile`).
- `system_prompt` (str): Optional system instructions.

---

### `add_tool_signatures(self) -> str`

Collects and returns the function signatures of all available tools in JSON format.

#### Returns:

- `str`: Concatenated tool function signatures.

---

### `process_tool_calls(self, tool_calls_content: list) -> dict`

Processes each tool call by validating arguments, executing the tools, and collecting results.

#### Parameters:

- `tool_calls_content` (list): List of tool calls in JSON format.

#### Returns:

- `dict`: A dictionary mapping tool call IDs to their respective execution results.

---

### `run(self, user_msg: str, max_rounds: int = 10) -> str`

Executes a user interaction session by processing input, generating responses, handling tool calls, and updating chat history.

#### Parameters:

- `user_msg` (str): The userâ€™s input message to start the interaction.
- `max_rounds` (int): The maximum number of rounds the agent should perform (default: `10`).

#### Returns:

- `str`: The final response generated by the agent after processing input and tool calls.

---

## Workflow

1. **User Interaction**: The user provides input (`user_msg`).
2. **Prompt Structure**: The system constructs a structured prompt for interaction.
3. **Tool Signatures**: If tools are available, their function signatures are added to the prompt.
4. **AI Processing**:
   - The AI generates a response using `completions_create()`.
   - If a `<response>` tag is detected, it returns the final answer.
   - If tool calls are detected, they are processed, and results are added to the chat history.
5. **Loop Execution**: The agent iterates up to `max_rounds` to refine responses.
6. **Final Response**: The last generated AI response is returned to the user.


